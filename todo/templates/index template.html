<!DOCTYPE html>
<html ng-app="ToDo">
  <head>
    <title>ToDo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset='utf8'>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <style>
      .container {
        max-width: 1000px;
      }
    </style>
  </head>
  <body ng-controller="ToDoController">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <div class="container" id="addtask">
      <h1>ToDo</h1>
      {% for message in get_flashed_messages() %}
        <div class=flash>{{ message }}</div>
      {% endfor %}
      <form role="form" ng-submit="addTask()">
        <div class="form-group">
          <input type="text" ng-model="task" name="task" class="form-control" id="task-box" placeholder="Enter new task..." style="max-width: 300px;" autofocus required>
        </div>
        <button type="submit" class="btn btn-default">Add</button>
      </form>
      <br>
      {% for error in errors %}
        <h4>{{ error }}</h4>
      {% endfor %}
    </div>
    <div class="container" id="tasklist">
      <ul class=tasks>
       {% for task in tasks %}
      <form role="form" ng-submit="action('drop')">
        <div class="form-group row">
          <h2>{{ task.task }}</h2>
          <button type="submit" name='action' value='change' class="btn btn-default">{{['Done','Undone'][task.done]}}</button>
          <button type="submit" name='action' value='drop' class="btn btn-default">Delete</button>
          <input type="hidden" name="id" value={{task.id}}>
        </div>
      </form>
       {% else %}
      <li><em>No tasks</em>
       {% endfor %}
      </ul>
    </div>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    <script src="//code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>